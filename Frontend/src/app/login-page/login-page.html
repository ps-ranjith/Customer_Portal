<div class="login-container">
  <!-- Animated Background -->
  <div class="background-animation">
    <div class="floating-shape shape-1"></div>
    <div class="floating-shape shape-2"></div>
    <div class="floating-shape shape-3"></div>
    <div class="floating-shape shape-4"></div>
    <div class="floating-shape shape-5"></div>
  </div>

  <!-- Login Card -->
  <div class="login-card">
    <!-- Profile Image -->
    <div class="profile-image-container">
<div class="profile-image-wrapper">
  <!-- Gradient-enhanced SVG icon -->
  <svg xmlns="http://www.w3.org/2000/svg" class="profile-image" viewBox="0 0 64 64" width="110" height="110" aria-hidden="true" role="img">
    <defs>
      <linearGradient id="bgGradient" x1="0" y1="0" x2="1" y2="1">
        <stop offset="0%" stop-color="#6a11cb"/>
        <stop offset="100%" stop-color="#2575fc"/>
      </linearGradient>
      <linearGradient id="profileGradient" x1="0" y1="0" x2="1" y2="1">
        <stop offset="0%" stop-color="#ffffff"/>
        <stop offset="100%" stop-color="#dbe9ff"/>
      </linearGradient>
    </defs>
    <circle cx="32" cy="32" r="30" fill="url(#bgGradient)"/>
    <circle cx="32" cy="22" r="12" fill="url(#profileGradient)"/>
    <path d="M16 52c0-11 32-11 32 0v4H16v-4z" fill="url(#profileGradient)"/>
  </svg>
</div>
    </div>

    <div class="card-header">
      <h1 class="welcome-title">Customer Portal</h1>
    </div>

    
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
      <!-- User ID -->
      <div class="form-group">
        <label class="field-label" for="userId">User ID</label>
        <input id="userId" name="userId" type="text" formControlName="userId" class="form-input"
               placeholder="Enter your user ID"
               [class.error]="loginForm.get('userId')?.invalid && loginForm.get('userId')?.touched">
        <div class="error-message" *ngIf="loginForm.get('userId')?.touched && loginForm.get('userId')?.errors">
          <i class="error-icon">⚠</i>
          <span *ngIf="loginForm.get('userId')?.errors?.['required']">User ID is required</span>
          <span *ngIf="loginForm.get('userId')?.errors?.['minlength']">User ID must be at least 3 characters</span>
        </div>
      </div>

      <!-- Password -->
      <div class="form-group password-group">
        <label class="field-label" for="password">Password</label>
        <div class="input-wrapper">
          <input id="password" name="password" [type]="showPassword ? 'text' : 'password'" formControlName="password" class="form-input"
                 placeholder="Enter your password"
                 [class.error]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
<button type="button" class="password-toggle" (click)="togglePassword()" aria-label="Toggle password visibility">
  <span class="password-icon" *ngIf="showPassword; else hidePasswordIcon" aria-hidden="true">
    <!-- Eye icon SVG (show password) -->
    <svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
      <circle cx="12" cy="12" r="3"></circle>
    </svg>
  </span>
  <ng-template #hidePasswordIcon>
    <span class="password-icon" aria-hidden="true">
      <!-- Eye-off icon SVG (hide password) -->
      <svg xmlns="http://www.w3.org/2000/svg" height="20" width="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M17.94 17.94A10.94 10.94 0 0 1 12 20c-7 0-11-8-11-8a21.64 21.64 0 0 1 5.06-6.94"></path>
        <path d="M1 1l22 22"></path>
        <path d="M9.53 9.53a3 3 0 0 0 4.24 4.24"></path>
        <path d="M14.12 14.12L12 12"></path>
      </svg>
    </span>
  </ng-template>
</button>
        </div>
        <div class="error-message" *ngIf="loginForm.get('password')?.touched && loginForm.get('password')?.errors">
          <i class="error-icon">⚠</i>
          <span *ngIf="loginForm.get('password')?.errors?.['required']">Password is required</span>
          <span *ngIf="loginForm.get('password')?.errors?.['minlength']">Password must be at least 6 characters</span>
        </div>
      </div>

      <!-- Options -->
      <div class="form-options">
        <label class="checkbox-container">
          <input type="checkbox" formControlName="rememberMe">
          Remember me
        </label>
      </div>

      <!-- Submit Button -->
      <button class="submit-btn" type="submit" [disabled]="isLoading">
        <span class="btn-text" *ngIf="!isLoading">Sign In</span>
        <div class="btn-loader" *ngIf="isLoading">
          <div class="spinner"></div>
          <span>Signing In...</span>
        </div>
      </button>
    </form>

    <!-- Success Message -->
    <!-- <div class="success-message" *ngIf="showSuccess">
      <i class="success-icon">✓</i>
      Login successful! Welcome to Customer Portal.
    </div> -->
    

    <!--  Error message block -->
    <div *ngIf="showLoginError"  class="login-error-message">
      <span class="error-icon">⚠</span>
      {{ loginErrorMessage}}
    </div>
  </div>
</div>
